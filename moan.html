<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© - Ù‚Ø³Ù… Ø§Ù„Ø¨Ø®ÙˆØ± ÙˆØ§Ù„Ø¹ÙˆØ¯</title>

    <meta property="og:title" content="Ø¨Ø®ÙˆØ± ÙˆØ¹ÙˆØ¯ - ÙØ§Ø®Ø±Ø©">
    <meta property="og:description" content="Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø¨Ø®ÙˆØ± ÙˆØ§Ù„Ø¹ÙˆØ¯ Ø§Ù„ØªÙŠ ØªØ¹ÙƒØ³ Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø£Ù†Ø§Ù‚Ø©. Ø±Ø§Ø¦Ø­Ø© ØªØ£Ø³Ø± Ø§Ù„Ø­ÙˆØ§Ø³.">
    <meta property="og:image" content="https://talalye1.github.io/Icon-perfumes/moan.jpg">
    <meta property="og:url" content="https://talalye1.github.io/Icon-perfumes/moan.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Ù…ØªØ¬Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ø¹Ø·ÙˆØ±">

    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <meta name="theme-color" content="#000000">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css">
    <script type="module" src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
    
    <style>
        /* (1/12) CSS Styles */
        :root {
            --gold: #D4AF37;
            --light-gold: #F5DEB3;
            --black: #0F0F0F;
            --dark-gray: #1A1A1A;
            --white: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--black);
            color: var(--white);
            position: relative;
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                              url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><defs><pattern id="d" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M0 10h20M10 0v20" stroke-width="0.3" stroke="%23D4AF37"/></pattern></defs><rect width="100%" height="100%" fill="url(%23d)"/></svg>');
            background-size: 200px;
            overflow-x: hidden;
        }

        body::before {
            content: "";
            position: fixed;
            top: 5px; left: 5px; right: 5px; bottom: 5px;
            border: 1px solid var(--gold);
            pointer-events: none;
            z-index: 1000;
            border-radius: 10px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3 { color: var(--gold); }
        h2 { text-align: center; margin-bottom: 25px; font-size: 2.2rem; }

        /* --- Navigation Bar --- */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            background: rgba(15, 15, 15, 0.8);
            backdrop-filter: blur(10px);
            padding: 10px 0;
            border-bottom: 2px solid var(--gold);
            z-index: 990;
        }
        .nav-buttons { display: flex; gap: 5px; }
        .nav-btn {
            color: var(--gold);
            background: var(--black);
            padding: 8px 15px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            border: 1px solid var(--gold);
            transition: all 0.3s ease;
        }
        .nav-btn:hover, .nav-btn.active {
            background: var(--gold);
            color: var(--black);
            box-shadow: 0 0 15px var(--gold);
        }
        
        main { padding-top: 80px; /* Space for fixed nav */ }

        /* --- Header Section --- */
        .header-content { text-align: center; margin-top: 20px; }
        .header-content .logo img {
            width: 100%;
            max-width: 600px;
            height: auto;
            border-radius: 15px;
            border: 3px solid var(--gold);
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.5);
        }
        .header-content h1 { margin: 20px 0 10px; font-size: 2.5rem; }
        .header-content p { color: var(--light-gold); margin-bottom: 20px; font-size: 1.1rem; }

        /* --- Download Button --- */
        #downloadBtn {
            background: var(--gold); color: var(--black); font-size: 1.1rem;
            border: none; padding: 12px 24px; border-radius: 8px;
            width: 100%; max-width: 400px; cursor: pointer; font-weight: bold;
            transition: all 0.3s;
        }
        #downloadBtn:hover { transform: scale(1.05); }
        #progressBar { height: 6px; width: 0; background: var(--gold); margin: 8px auto 0; transition: width 0.3s; max-width: 400px; border-radius: 6px; }

        /* --- Why Us Section --- */
        .why-us { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-top: 40px; }
        .feature-item { text-align: center; max-width: 250px; }
        .feature-item .icon { font-size: 2.5rem; color: var(--gold); margin-bottom: 10px; }
        .feature-item h3 { font-size: 1.3rem; margin-bottom: 5px; }
        .feature-item p { color: var(--light-gold); font-size: 0.95rem; }

        /* --- Products Section --- */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }
        .product-card {
            background: var(--dark-gray);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .product-card:hover { border-color: var(--gold); box-shadow: 0 0 20px rgba(212, 175, 55, 0.4); }
        .product-card img { width: 100%; height: 200px; object-fit: cover; border-radius: 10px; cursor: pointer; margin-bottom: 15px; }
        .product-card h3 { font-size: 1.4rem; color: var(--light-gold); }
        .product-info { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }
        .price { font-size: 1.3rem; font-weight: bold; color: var(--gold); }
        .like-btn { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }
        .like-btn.liked { color: #ff6b6b; }
        .quantity-selector { display: flex; align-items: center; justify-content: center; gap: 10px; margin: 15px 0; }
        .quantity-selector button { background: var(--gold); color: var(--black); border: none; width: 30px; height: 30px; border-radius: 50%; font-size: 1.2rem; cursor: pointer; }
        .quantity-selector input { width: 50px; text-align: center; background: var(--black); color: var(--white); border: 1px solid var(--gold); border-radius: 5px; padding: 5px; }
        .total-price { margin: 10px 0; font-weight: bold; }
        .buy-btn {
            background: var(--gold); color: var(--black); font-size: 1.1rem;
            border: none; padding: 10px 20px; border-radius: 8px; width: 100%;
            cursor: pointer; font-weight: bold; margin-top: 10px; transition: all 0.3s;
        }
        .buy-btn:hover { background: var(--light-gold); }
        .social-share { margin-top: 15px; }
        .social-share a { color: white; margin: 0 8px; font-size: 1.5rem; text-decoration: none; }
        .social-share a.facebook:hover { color: #1877F2; }
        .social-share a.twitter:hover { color: #1DA1F2; }
        .social-share a.whatsapp:hover { color: #25D366; }
        .social-share a.telegram:hover { color: #0088cc; }

        /* --- Modal (Popup) --- */
        .modal {
            position: fixed; z-index: 1001; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto;
            background-color: rgba(0,0,0,0.7);
            display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            background: var(--dark-gray);
            padding: 30px; border-radius: 15px;
            border: 2px solid var(--gold);
            width: 90%; max-width: 450px;
            text-align: center;
        }
        .modal-content h3 { margin-bottom: 20px; }
        .modal-content input {
            width: 100%; padding: 12px; margin-bottom: 20px;
            border-radius: 8px; border: 1px solid var(--gold);
            background: var(--black); color: var(--white); font-size: 1rem;
        }
        .modal-btn {
            background: var(--gold); color: var(--black); font-size: 1.1rem;
            border: none; padding: 12px 24px; border-radius: 8px;
            cursor: pointer; font-weight: bold; margin: 5px;
        }
        .modal-btn.close { background: #555; color: white; }
        
        /* --- Comments Section --- */
        #comments-section { background: var(--dark-gray); padding: 20px; border-radius: 15px; margin-top: 40px; }
        #comment-form { display: flex; flex-direction: column; gap: 10px; margin-bottom: 25px; }
        #comment-form input, #comment-form textarea {
            padding: 10px; background: var(--black); color: var(--white);
            border: 1px solid var(--gold); border-radius: 8px;
        }
        #comment-form button {
            align-self: flex-start; background: var(--gold); color: var(--black);
            padding: 10px 20px; border-radius: 8px; font-weight: bold; border: none; cursor: pointer;
        }
        .comment {
            border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 10px;
        }
        .comment-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
        .comment-author { font-weight: bold; color: var(--gold); }
        .comment-date { font-size: 0.8rem; color: #aaa; }
        .comment-text { color: var(--light-gold); }
        .comment-actions { display: flex; gap: 15px; font-size: 0.9rem; color: #ccc; }
        .comment-actions button { background: none; border: none; color: #ccc; cursor: pointer; }
        .comment-actions button:hover { color: var(--gold); }

        /* --- Footer --- */
        footer { text-align: center; padding: 30px 20px; margin-top: 40px; background: var(--dark-gray); }
        .footer-social a { color: var(--gold); margin: 0 15px; font-size: 2rem; transition: all 0.3s; }
        .footer-social a:hover { color: var(--light-gold); transform: translateY(-5px); }
        .footer-contact { margin: 20px 0; }
        .contact-btn {
            display: inline-block; background: var(--gold); color: var(--black);
            padding: 10px 20px; margin: 5px; text-decoration: none;
            border-radius: 20px; font-weight: bold;
        }
        .designer-credit { margin-top: 20px; color: #888; font-size: 0.9rem; }

        /* --- Floating Share Buttons --- */
        .floating-share-buttons {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 995;
        }
        .floating-share-buttons a {
            width: 45px; height: 45px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            color: white; text-decoration: none; font-size: 1.5rem;
            transition: transform 0.3s;
        }
        .floating-share-buttons a:hover { transform: scale(1.1); }
        .share-fb { background: #1877F2; }
        .share-wa { background: #25D366; }
        .share-tg { background: #0088cc; }
        .share-tw { background: #1DA1F2; }

        /* --- Floating Chat Widget --- */
        #chat-widget {
            position: fixed;
            bottom: 20px; right: 20px;
            z-index: 998;
        }
        #chat-icon {
            width: 60px; height: 60px; background: var(--gold);
            color: var(--black); border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 2rem; cursor: pointer;
            box-shadow: 0 0 20px var(--gold);
            animation: pulse 2s infinite;
        }
        #chat-popup {
            position: absolute;
            bottom: 80px; right: 0;
            width: 320px;
            background: var(--dark-gray);
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.5);
            border: 1px solid var(--gold);
            display: none; /* Hidden by default */
            flex-direction: column;
            overflow: hidden;
        }
        .chat-header {
            background: var(--black);
            color: var(--gold);
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
        .chat-messages {
            height: 300px; padding: 10px;
            overflow-y: auto;
            display: flex; flex-direction: column; gap: 10px;
        }
        .chat-message {
            padding: 8px 12px; border-radius: 10px;
            max-width: 80%;
        }
        .user-message { background: var(--gold); color: var(--black); align-self: flex-end; }
        .bot-message { background: #333; color: var(--light-gold); align-self: flex-start; }
        .chat-input-area {
            display: flex; padding: 10px; border-top: 1px solid var(--gold);
        }
        #chat-input, #name-input {
            flex-grow: 1; border: none; padding: 8px;
            background: var(--black); color: var(--white);
            border-radius: 20px;
        }
        #mic-btn, #send-btn {
            background: none; border: none; color: var(--gold);
            font-size: 1.5rem; cursor: pointer; margin: 0 5px;
        }
        #name-prompt { padding: 15px; text-align: center; }

        @keyframes pulse {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
        }
        
        @media (max-width: 768px) {
            .nav-buttons { gap: 2px; }
            .nav-btn { padding: 6px 8px; font-size: 0.8rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.8rem; }
            .floating-share-buttons { left: 10px; }
            #chat-widget { right: 10px; }
            #chat-popup { width: calc(100vw - 20px); }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="nav-buttons">
            <a href="index.html" class="nav-btn">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="men.html" class="nav-btn">Ø¹Ø·ÙˆØ± Ø±Ø¬Ø§Ù„ÙŠ</a>
            <a href="female.html" class="nav-btn">Ø¹Ø·ÙˆØ± Ù†Ø³Ø§Ø¦ÙŠ</a>
            <a href="makeup.html" class="nav-btn">Ù…Ø³ØªØ­Ø¶Ø±Ø§Øª</a>
        </div>
    </div>
                    <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Font Awesome -->
    <main>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<!-- Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø£Ù†ÙŠÙ‚ -->
<link href="https://fonts.googleapis.com/css?family=Cairo&display=swap" rel="stylesheet">
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
  <title>Hello, World!</title>
<!-- (4/8) Ù…Ø±Ø¨Ø¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© ÙˆØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØµØºØ±Ø© -->
<div class="products-section" style="padding:0px 0;">
  <div id="mainSlider" style="width:100%;max-width:100%;margin:0 auto 5px;position:relative;border:4px solid var(--gold);border-radius:10px;overflow:hidden;background:var(--black);display:flex;justify-content:center;align-items:center;min-height:100%;">
   <!-- Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰ Ø§Ù„Ù…ØªØºÙŠØ±Ø© -->
    <img id="mainImg" src="moan.jpg" alt="Ù…Ù†ØªØ¬ Ù…Ø®ØªØ§Ø±" style="width:100%;max-width:100%;height:100%;object-fit:contain;transition:.4s;">
    </div>
  <!-- ØµÙ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØµØºØ±Ø© -->
  </div>
  <div class="thumbs-row" style="display:flex;justify-content:center;gap:12px;margin-bottom:5px;">
    <img class="thumb" src="moan1.jpg" alt="Ù…Ù†ØªØ¬ 1" data-high="moan1.png" style="width:60px;height:60px;border:2px solid var(--gold);border-radius:2px;cursor:pointer;object-fit:cover;">
    <img class="thumb" src="moan2.jpg" alt="Ù…Ù†ØªØ¬ 2" data-high="moan2.png" style="width:60px;height:60px;border:2px solid var(--gold);border-radius:2px;cursor:pointer;object-fit:cover;">
    <img class="thumb" src="moan3.jpg" alt="Ù…Ù†ØªØ¬ 3" data-high="moan3.png" style="width:60px;height:60px;border:2px solid var(--gold);border-radius:2px;cursor:pointer;object-fit:cover;">
    <img class="thumb" src="moan4.jpg" alt="Ù…Ù†ØªØ¬ 4" data-high="moan4.png" style="width:60px;height:60px;border:2px solid var(--gold);border-radius:2px;cursor:pointer;object-fit:cover;">
    <img class="thumb" src="moan5.jpg" alt="Ù…Ù†ØªØ¬ 5" data-high="moan5.png" style="width:60px;height:60px;border:2px solid var(--gold);border-radius:2px;cursor:pointer;object-fit:cover;">
  </div>
</div>
    <div class="container">
                <h1>Ø¨Ø®ÙˆØ± ÙˆØ¹ÙˆØ¯ ÙØ§Ø®Ø±Ø©</h1>
                <p>Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø¨Ø®ÙˆØ± ÙˆØ§Ù„ÙˆØ¹ÙˆØ¯ Ø§Ù„ØªÙŠ ØªØ¹ÙƒØ³ Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø£Ù†Ø§Ù‚Ø©.  Ø±Ø§Ø¦Ø­Ø© ØªØ£Ø³Ø± Ø§Ù„Ø­ÙˆØ§Ø³.</p>
                
                <button id="downloadBtn">
                    <i class="fab fa-android"></i> ØªØ­Ù…ÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯
                </button>
                <div id="progressBar"></div>
                <div id="downloadStatus" style="margin-top: 5px; color: var(--light-gold);"></div>
            </div>
        </div>

        <hr style="border-color: var(--gold); opacity: 0.2; margin: 40px 0;">

        <div class="container">
            <h2>Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ø¹Ø·ÙˆØ±ØŸ</h2>
            <div class="why-us">
                <div class="feature-item">
                    <div class="icon"><i class="fas fa-gem"></i></div>
                    <h3>Ø¬ÙˆØ¯Ø© Ø£ØµÙ„ÙŠØ©</h3>
                    <p>Ù†Ø¶Ù…Ù† Ù„ÙƒÙ… Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© 100% ÙˆÙ…ÙƒÙˆÙ†Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„ØªØ¬Ø±Ø¨Ø© ÙØ±ÙŠØ¯Ø©.</p>
                </div>
                <div class="feature-item">
                    <div class="icon"><i class="fas fa-truck-fast"></i></div>
                    <h3>ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</h3>
                    <p>Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹Ø© ÙˆØ¢Ù…Ù†Ø© Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª Ø§Ù„ÙŠÙ…Ù†ÙŠØ© ØªØµÙ„Ùƒ Ø£ÙŠÙ†Ù…Ø§ ÙƒÙ†Øª.</p>
                </div>
                <div class="feature-item">
                    <div class="icon"><i class="fas fa-shield-halved"></i></div>
                    <h3>Ø¶Ù…Ø§Ù† Ø§Ù„Ø±Ø¶Ø§</h3>
                    <p>Ø³ÙŠØ§Ø³Ø© Ø¥Ø±Ø¬Ø§Ø¹ ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„ Ù…Ø±Ù†Ø© ØªØ¶Ù…Ù† Ø±Ø¶Ø§Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù† Ù…Ø´ØªØ±ÙŠØ§ØªÙƒ.</p>
                </div>
            </div>
        </div>

        <hr style="border-color: var(--gold); opacity: 0.2; margin: 40px 0;">

        <div class="container">
            <h2>Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
            <div id="products-grid" class="products-grid">
                </div>
        </div>

        <div id="purchaseModal" class="modal">
            <div class="modal-content">
                <h3>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h3>
                <p>Ø§Ù„Ù…Ù†ØªØ¬: <strong id="modalProductName"></strong></p>
                <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <strong id="modalTotalPrice"></strong></p>
                <hr style="border-color: var(--gold); opacity: 0.2; margin: 20px 0;">
                <input type="text" id="customerNameInput" placeholder="Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…" required>
                <button id="confirmPurchaseBtn" class="modal-btn">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± Ù…Ø§Ø³Ù†Ø¬Ø±</button>
                <button class="modal-btn close">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>

        <hr style="border-color: var(--gold); opacity: 0.2; margin: 40px 0;">

        <div class="container">
            <div id="comments-section">
                <h2>Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
                <form id="comment-form">
                    <input type="text" id="comment-name" placeholder="Ø§Ø³Ù…Ùƒ (Ù…Ø·Ù„ÙˆØ¨)" required>
                    <textarea id="comment-text" rows="4" placeholder="Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§..." required></textarea>
                    <button type="submit">Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚</button>
                </form>
                <div id="comments-list">
                    </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <h2>ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰</h2>
            <div class="footer-social">
                <a href="https://facebook.com/alayqwnt.ll.twr" target="_blank" title="ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="fab fa-facebook"></i></a>
                <a href="https://www.instagram.com/lyqwn_lltwr" target="_blank" title="Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…"><i class="fab fa-instagram"></i></a>
                <a href="#" id="whatsapp-group-link" target="_blank" title="Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§ØªØ³Ø§Ø¨"><i class="fab fa-whatsapp"></i></a>
            </div>
            <div class="footer-contact">
                <h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
                <a href="https://m.me/alayqwnt.ll.twr" target="_blank" class="contact-btn"><i class="fab fa-facebook-messenger"></i> Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
                <a href="https://wa.me/967774662666?text=Ø§Ø·Ù„Ø¨%20ØªØµÙ…ÙŠÙ…%20Ø§Ù„Ø§Ù†" target="_blank" class="contact-btn"><i class="fab fa-whatsapp"></i> Ø§Ø·Ù„Ø¨ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¢Ù†</a>
            </div>
            <p class="designer-credit">ØªÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©: <br> Ù…/ Ø·Ù„Ø§Ù„ Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ù…Ù‚Ø·Ø±ÙŠ</p>
        </div>
    </footer>

    <div class="floating-share-buttons">
        <a href="#" id="share-fb" class="share-fb" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="fab fa-facebook-f"></i></a>
        <a href="#" id="share-wa" class="share-wa" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨"><i class="fab fa-whatsapp"></i></a>
        <a href="#" id="share-tg" class="share-tg" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…"><i class="fab fa-telegram-plane"></i></a>
        <a href="#" id="share-tw" class="share-tw" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ±"><i class="fab fa-twitter"></i></a>
    </div>

    <div id="chat-widget">
        <div id="chat-popup">
            <div class="chat-header">
                <span>Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø°ÙƒÙŠ</span>
                <button id="close-chat" style="background:none; border:none; color:white; float:left; font-size:1.2rem; cursor:pointer;">&times;</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                </div>
            <div id="name-prompt">
                <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¨Ø¯Ø¡.</p>
                <input type="text" id="name-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§...">
                <button id="send-name-btn" class="modal-btn" style="margin-top:10px;">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</button>
            </div>
            <div class="chat-input-area" id="chat-input-area" style="display:none;">
                <button id="mic-btn" title="ØªØ­Ø¯Ø«"><i class="fas fa-microphone"></i></button>
                <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ...">
                <button id="send-btn" title="Ø¥Ø±Ø³Ø§Ù„"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
        <div id="chat-icon">
            <i class="fas fa-comments"></i>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
    
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
      import { getFirestore, collection, addDoc, getDocs, onSnapshot, doc, updateDoc, increment, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyAcOLUzUULR6HYcJKdPCFvhJJHT4gKnczU",
        authDomain: "icon-for-perfumes-5ccd6.firebaseapp.com",
        projectId: "icon-for-perfumes-5ccd6",
        storageBucket: "icon-for-perfumes-5ccd6.appspot.com",
        messagingSenderId: "942406140856",
        appId: "1:942406140856:web:ff4729e3f3a7653a56454d"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      window.firebase = { db, collection, addDoc, getDocs, onSnapshot, doc, updateDoc, increment, serverTimestamp };
    </script>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- Service Worker Registration for PWA ---
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(registration => console.log('Service Worker registered successfully:', registration))
                .catch(error => console.log('Service Worker registration failed:', error));
        }
        
        // --- App Download Simulation ---
        const downloadBtn = document.getElementById('downloadBtn');
        const progressBar = document.getElementById('progressBar');
        const downloadStatus = document.getElementById('downloadStatus');
        let downloading = false;
        downloadBtn.onclick = () => {
            if (downloading) return;
            downloading = true;
            downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
            downloadBtn.disabled = true;
            progressBar.style.width = '0%';
            downloadStatus.innerText = '';
            let percent = 0;
            const totalKb = 9850;
            const interval = setInterval(() => {
                percent += 2;
                if (percent >= 100) {
                    clearInterval(interval);
                    percent = 100;
                    downloadBtn.innerHTML = '<i class="fas fa-download"></i> ØªØ«Ø¨ÙŠØª ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯';
                    downloadStatus.innerText = 'Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ âœ”ï¸';
                    downloadBtn.disabled = false;
                    downloadBtn.onclick = () => { window.open('Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©.apk', '_blank'); };
                }
                progressBar.style.width = percent + '%';
                let kb = Math.floor((percent/100)*totalKb);
                downloadStatus.innerText = `${kb} / ${totalKb} ÙƒÙŠÙ„Ùˆ Ø¨Ø§ÙŠØª`;
            }, 50);
        };

        // --- Product Data ---
        const products = [
            { id: 'p1', name: 'Ø¨Ø®ÙˆØ± Ø§Ù„Ø¹ÙˆØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠ', price: 5900, image: 'moan1.jpg', rating: 4.8 },
            { id: 'p2', name: 'Ø¨Ø®ÙˆØ± Ù†Ø³ÙŠÙ… Ø§Ù„Ø¨Ø­Ø±', price: 4900, image: 'moan2.jpg', rating: 4.5 },
            { id: 'p3', name: 'Ø¨Ø®ÙˆØ± Ø±ÙˆØ­ Ø§Ù„ØµØ­Ø±Ø§Ø¡', price: 5500, image: 'moan3.jpg', rating: 4.9 },
            { id: 'p4', name: 'Ø¨Ø®ÙˆØ± Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ø´Ø±Ù‚', price: 5200, image: 'moan4.jpg', rating: 4.7 },
            { id: 'p5', name: 'Ø¨Ø®ÙˆØ± Ø®Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ø¡', price: 4200, image: 'moan5.jpg', rating: 4.6 }
        ];

        const productsGrid = document.getElementById('products-grid');
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <h3>${product.name}</h3>
                <div class="product-info">
                    <div class="rateYo" data-rateyo-rating="${product.rating}" data-rateyo-read-only="true"></div>
                    <button class="like-btn" data-product-id="${product.id}"><i class="far fa-heart"></i> <span id="like-count-${product.id}">0</span></button>
                </div>
                <div class="price">
                    <span>${product.price.toLocaleString()} Ø±ÙŠØ§Ù„</span>
                </div>
                <div class="quantity-selector">
                    <button class="quantity-minus">-</button>
                    <input type="number" class="quantity-input" value="1" min="1" readonly>
                    <button class="quantity-plus">+</button>
                </div>
                <div class="total-price">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span class="total-price-value">${product.price.toLocaleString()}</span> Ø±ÙŠØ§Ù„</div>
                <button class="buy-btn" data-product-name="${product.name}" data-product-price="${product.price}">Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†</button>
                <div class="social-share">
                    <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}" target="_blank" class="facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(product.name)}" target="_blank" class="twitter"><i class="fab fa-twitter"></i></a>
                    <a href="https://api.whatsapp.com/send?text=${encodeURIComponent(product.name + ' ' + window.location.href)}" target="_blank" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(product.name)}" target="_blank" class="telegram"><i class="fab fa-telegram-plane"></i></a>
                </div>
            `;
            productsGrid.appendChild(card);
        });
        
        // Initialize RateYo
        $(".rateYo").rateYo({
            rating: function () { return $(this).attr('data-rateyo-rating'); },
            starWidth: "20px",
            ratedFill: "var(--gold)",
            normalFill: "#555",
            readOnly: function () { return $(this).attr('data-rateyo-read-only') === 'true'; },
            rtl: true,
            spacing: "5px"
        });

        // --- Product Card Interactivity ---
        productsGrid.addEventListener('click', e => {
            const quantityInput = e.target.closest('.product-card')?.querySelector('.quantity-input');
            const price = parseFloat(e.target.closest('.product-card')?.querySelector('.buy-btn').dataset.productPrice);
            const totalPriceEl = e.target.closest('.product-card')?.querySelector('.total-price-value');
            
            if (e.target.classList.contains('quantity-plus')) {
                quantityInput.value = parseInt(quantityInput.value) + 1;
            }
            if (e.target.classList.contains('quantity-minus') && quantityInput.value > 1) {
                quantityInput.value = parseInt(quantityInput.value) - 1;
            }
            if (quantityInput) {
                const total = parseInt(quantityInput.value) * price;
                totalPriceEl.textContent = total.toLocaleString();
            }

            // Buy Now Button
            if (e.target.classList.contains('buy-btn')) {
                const productName = e.target.dataset.productName;
                const total = totalPriceEl.textContent;
                openPurchaseModal(productName, total, parseInt(quantityInput.value));
            }
            
            // Like Button
            if (e.target.closest('.like-btn')) {
                handleLike(e.target.closest('.like-btn'));
            }
        });
        
        // --- Purchase Modal Logic ---
        const modal = document.getElementById('purchaseModal');
        const modalProductName = document.getElementById('modalProductName');
        const modalTotalPrice = document.getElementById('modalTotalPrice');
        const confirmBtn = document.getElementById('confirmPurchaseBtn');
        let currentProduct = {};

        function openPurchaseModal(name, total, quantity) {
            currentProduct = { name, total, quantity };
            modalProductName.textContent = name;
            modalTotalPrice.textContent = total + ' Ø±ÙŠØ§Ù„';
            modal.style.display = 'flex';
        }

        modal.querySelector('.close').onclick = () => modal.style.display = 'none';
        window.onclick = e => { if (e.target == modal) modal.style.display = 'none'; };

        confirmBtn.onclick = () => {
            const customerName = document.getElementById('customerNameInput').value.trim();
            if (!customerName) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨.');
                return;
            }
            const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ø¹Ø·ÙˆØ±ØŒ\nØ£Ù†Ø§ ${customerName}ØŒ ÙˆØ£Ø±ØºØ¨ ÙÙŠ Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ:\n\nØ§Ù„Ù…Ù†ØªØ¬: ${currentProduct.name}\nØ§Ù„ÙƒÙ…ÙŠØ©: ${currentProduct.quantity}\nØ§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${currentProduct.total} Ø±ÙŠØ§Ù„\n\nØ§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ: ${window.location.href}\n\nØ´ÙƒØ±Ø§Ù‹ Ù„ÙƒÙ….`;
            const messengerLink = `https://m.me/alayqwnt.ll.twr?text=${encodeURIComponent(message)}`;
            window.open(messengerLink, '_blank');
            modal.style.display = 'none';
        };

        // --- Firebase Firestore Logic (Likes & Comments) ---
        const { db, collection, addDoc, onSnapshot, doc, updateDoc, increment, serverTimestamp } = window.firebase;
        const commentsCollection = collection(db, 'mens-perfume-comments');
        const likesCollection = collection(db, 'product-likes');

        // Handle Likes
        async function handleLike(btn) {
            const productId = btn.dataset.productId;
            const likedKey = `liked_${productId}`;
            
            if (localStorage.getItem(likedKey)) {
                // Unlike (optional, can be implemented)
                console.log("Already liked");
                return;
            }

            const likeDocRef = doc(db, "product-likes", productId);
            await updateDoc(likeDocRef, { count: increment(1) });
            
            localStorage.setItem(likedKey, 'true');
            btn.classList.add('liked');
            btn.querySelector('i').className = 'fas fa-heart';
        }

        // Fetch and display likes
        products.forEach(p => {
            const likeDocRef = doc(db, "product-likes", p.id);
            onSnapshot(likeDocRef, (doc) => {
                const count = doc.exists() ? doc.data().count : 0;
                document.getElementById(`like-count-${p.id}`).textContent = count;
            });
        });


        // Handle Comments
        const commentForm = document.getElementById('comment-form');
        const commentsList = document.getElementById('comments-list');

        commentForm.addEventListener('submit', async e => {
            e.preventDefault();
            const name = document.getElementById('comment-name').value;
            const text = document.getElementById('comment-text').value;
            
            await addDoc(commentsCollection, {
                name: name,
                text: text,
                createdAt: serverTimestamp()
            });

            commentForm.reset();
        });

        // Listen for and display comments
        onSnapshot(commentsCollection, (snapshot) => {
            commentsList.innerHTML = '';
            snapshot.docs.sort((a, b) => b.data().createdAt - a.data().createdAt).forEach(doc => {
                const comment = doc.data();
                const date = comment.createdAt ? comment.createdAt.toDate().toLocaleString('ar-SA') : 'Ø§Ù„Ø¢Ù†';
                const div = document.createElement('div');
                div.className = 'comment';
                div.innerHTML = `
                    <div class="comment-header">
                        <span class="comment-author">${comment.name}</span>
                        <span class="comment-date">${date}</span>
                    </div>
                    <p class="comment-text">${comment.text}</p>
                `;
                commentsList.appendChild(div);
            });
        });
        
        // --- Floating Share Buttons Logic ---
        const shareText = `Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ø¹Ø·ÙˆØ± - Ø¬ÙˆØ¯Ø© ÙˆØ£ØµØ§Ù„Ø©\nØ¹Ø·ÙˆØ± Ø±Ø¬Ø§Ù„ÙŠØ© ÙˆÙ†Ø³Ø§Ø¦ÙŠØ© ÙˆØ¨Ø®ÙˆØ± ÙˆÙ…Ø³ØªØ­Ø¶Ø±Ø§Øª Ø§Ù„ØªØ¬Ù…ÙŠÙ„.\nÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙ†Ø§ ØªÙˆØµÙŠÙ„ Ø§Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª Ø§Ù„ÙŠÙ…Ù†ÙŠÙ‡.\n\nØ§ÙƒØªØ´Ù Ù‚Ø³Ù… Ø¨Ø®ÙˆØ± ÙˆØ¹ÙˆØ¯:\n${window.location.href}`;
        document.getElementById('share-fb').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(shareText)}`;
        document.getElementById('share-wa').href = `https://api.whatsapp.com/send?text=${encodeURIComponent(shareText)}`;
        document.getElementById('share-tg').href = `https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(shareText)}`;
        document.getElementById('share-tw').href = `https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(shareText)}`;

        // --- Chat Widget Logic ---
        const chatIcon = document.getElementById('chat-icon');
        const chatPopup = document.getElementById('chat-popup');
        const closeChatBtn = document.getElementById('close-chat');
        const chatMessages = document.getElementById('chat-messages');
        const namePrompt = document.getElementById('name-prompt');
        const nameInput = document.getElementById('name-input');
        const sendNameBtn = document.getElementById('send-name-btn');
        const chatInputArea = document.getElementById('chat-input-area');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const micBtn = document.getElementById('mic-btn');
        const GEMINI_API_KEY = 'AIzaSyDSGuS0cRduU1dPGzHjXRjWvjDgzL4NyIY';
        const audioPlayer = new Audio();
        let userName = localStorage.getItem('perfume_userName');

        // Text-to-Speech function
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ar-SA';
                window.speechSynthesis.speak(utterance);
            }
        }
        
        async function handleMessageSend() {
          const input = document.getElementById('chatInput');
          const message = input.value.trim();
          if (message) {
              addMessageToChat(message, 'user');
              input.value = '';
              await processMessage(message);
          }
      }

        // Add message to chat UI
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}-message`;
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        // Open/Close chat
        chatIcon.onclick = () => { chatPopup.style.display = 'flex'; chatIcon.style.display = 'none'; };
        closeChatBtn.onclick = () => { chatPopup.style.display = 'none'; chatIcon.style.display = 'block'; };

        // Handle user name
        if (userName) {
            namePrompt.style.display = 'none';
            chatInputArea.style.display = 'flex';
            const welcomeBackMsg = `Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ ÙŠØ§ ${userName}! ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ ÙŠÙ…ÙƒÙ†Ùƒ Ø³Ù…Ø§Ø¹ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§ÙƒØªØ¨ "Ø´ØºÙ„ Ù…ÙˆØ³ÙŠÙ‚Ù‰".`;
            addMessage(welcomeBackMsg, 'bot');
            speak(welcomeBackMsg);
        } else {
            const welcomeMsg = "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©! Ø£Ù†Ø§ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡. Ù„Ø·ÙØ§Ù‹ØŒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¨Ø¯Ø¡.";
            addMessage(welcomeMsg, 'bot');
            speak(welcomeMsg);
        }

        sendNameBtn.onclick = () => {
            const name = nameInput.value.trim();
            if (name) {
                userName = name;
                localStorage.setItem('perfume_userName', userName);
                namePrompt.style.display = 'none';
                chatInputArea.style.display = 'flex';
                addMessage(`Ø±Ø§Ø¦Ø¹ ÙŠØ§ ${userName}! ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯ÙƒØŸ Ù„Ø³Ù…Ø§Ø¹ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ø±Ø³Ù„ ÙƒÙ„Ù…Ø© "ØªØ´ØºÙŠÙ„`, 'bot');
            }
        };

        // Handle sending messages
        sendBtn.onclick = handleUserInput;
        chatInput.onkeypress = e => { if (e.key === 'Enter') handleUserInput(); };
        
        function handleUserInput() {
            const query = chatInput.value.trim();
            if (!query) return;
            addMessage(query, 'user');
            processQuery(query);
            chatInput.value = '';
        }
        
        // Music Commands
        const playCommands = ['ØªØ´ØºÙŠÙ„', 'Ø´ØºÙ„', 'Ù…ÙˆØ³ÙŠÙ‚Ù‰', 'Ø·Ø±Ø¨', 'Ø§ØºØ§Ù†ÙŠ', 'ØºÙ†ÙŠ'];
        const stopCommands = ['Ø§ÙŠÙ‚Ø§Ù', 'Ø¥ÙŠÙ‚Ø§Ù', 'Ø§ØºÙ„Ø§Ù‚', 'Ø¥ØºÙ„Ø§Ù‚', 'Ø·ÙÙŠ', 'ØµÙ…Øª'];

        // Pre-defined Answers
        const preDefinedAnswers = {
            'Ø¯ÙØ¹': 'Ù†Ù‚Ø¯Ù… Ø¹Ø¯Ø© Ø·Ø±Ù‚ Ù„Ù„Ø¯ÙØ¹: Ø¥ÙŠØ¯Ø§Ø¹ Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠØŒ Ø­ÙˆØ§Ù„Ø§Øª Ù…ØµØ±ÙÙŠØ©ØŒ Ø£Ùˆ Ø¹Ø¨Ø± Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©.',
            'ØªÙˆØµÙŠÙ„': 'Ù…Ø¯Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ ØªØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 1-3 Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ù…Ø¯Ù† Ø§Ù„ÙƒØ¨Ø±Ù‰ Ùˆ3-7 Ø£ÙŠØ§Ù… Ù„Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚.',
            'Ø¬ÙˆØ¯Ø©': 'Ø¬Ù…ÙŠØ¹ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø£ØµÙ„ÙŠØ© 100% ÙˆØ°Ø§Øª Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ø³ØªØ±Ø¬Ø§Ø¹.',
            'Ø¹Ø±ÙˆØ¶': 'Ù„Ø¯ÙŠÙ†Ø§ Ø¹Ø±ÙˆØ¶ Ø¯ÙˆØ±ÙŠØ©. ØªØ§Ø¨Ø¹ ØµÙØ­Ø§ØªÙ†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ù„Ù…Ø¹Ø±ÙØ© Ø£Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±ÙˆØ¶.',
            'Ø³Ø¹Ø±': 'Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…ÙˆØ¶Ø­Ø© ÙÙŠ ØµÙØ­Ø© ÙƒÙ„ Ù…Ù†ØªØ¬. Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø¢Ø®Ø±ØŒ Ø£Ù†Ø§ ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©.',
            'Ø§Ø³ØªØ¨Ø¯Ø§Ù„': 'Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø© Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù…Ù†ØªØ¬ Ø®Ù„Ø§Ù„ 7 Ø£ÙŠØ§Ù… Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø¹ÙŠØ¨ Ù…ØµÙ†Ø¹ÙŠ.',
            'Ø¹Ù†ÙˆØ§Ù†': 'Ù…Ù‚Ø±Ù†Ø§ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ù…Ø­Ø§ÙØ¸Ø© Ø°Ù…Ø§Ø±ØŒ Ø§Ù„ÙŠÙ…Ù†ØŒ ÙˆÙ†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª.',
            'Ù…ØµÙ…Ù…': 'ØªÙ… ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ ÙˆØ§Ù„Ù…ØµÙ…Ù… Ø·Ù„Ø§Ù„ Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ù…Ù‚Ø·Ø±ÙŠ. Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù‡: 774662666.',
            'Ù…Ù† Ù…Ø¹ÙŠ': 'Ø§Ù†Ø§ Ù…ÙˆØ¸Ù Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù„Ø¯Ù‰ Ù…ØªØ¬Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ø¹Ø·ÙˆØ±..',
            'Ù…Ù† Ø§Ù†Øª': 'Ø§Ù†Ø§ Ù…ÙˆØ¸Ù Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù„Ø¯Ù‰ Ù…ØªØ¬Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù„Ù„Ø¹Ø·ÙˆØ±.'
        };

        // Process user query
        async function processQuery(query) {
            // Check for music commands
            if (playCommands.some(cmd => query.includes(cmd))) {
                audioPlayer.src = 'http://stream.zeno.fm/ae32e025wp8uv';
                audioPlayer.play();
                addMessage('  ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù„Ùƒ ğŸ¶ Ù„Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ø±Ø³Ù„ ÙƒÙ„Ù…Ø© "Ø§ÙŠÙ‚Ø§Ù"', 'bot');
                return;
            }
            if (stopCommands.some(cmd => query.includes(cmd))) {
                audioPlayer.pause();
                audioPlayer.src = '';
                addMessage('ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù„ØªØ´ØºÙŠÙ„ Ø§Ø±Ø³Ù„ ÙƒÙ„Ù…Ø© "ØªØ´ØºÙŠÙ„".', 'bot');
                return;
            }

            // Check for pre-defined answers
            for (const key in preDefinedAnswers) {
                if (query.includes(key)) {
                    addMessage(preDefinedAnswers[key], 'bot');
                    speak(preDefinedAnswers[key]);
                    return;
                }
            }

            // Fallback to Gemini API
            addMessage('Ù„Ø­Ø¸Ø§ØªØŒ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙŠÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©... ğŸ¤” Ø§Ù„Ø£Ù†', 'bot');
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        "contents": [{
                            "parts": [{ "text": `Ø£Ù†Øª Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ Ù…ØªØ¬Ø± Ø¹Ø·ÙˆØ± Ø§Ø³Ù…Ù‡ "Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©". Ø¹Ù†ÙˆØ§Ù†: Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© "Ø§Ù„ÙŠÙ…Ù† Ù…Ø­Ø§ÙØ¸Ø© Ø°Ù…Ø§Ø±". Ø¹Ù…Ù„ÙŠØ© Ø´Ø±Ø§Ø¡ Ù…Ù†ØªØ¬ ÙŠØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø¥ÙŠØ¯Ø§Ø¹ Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ø±Ø§Ø¡ Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ÙŠÙ‚ÙˆÙ†Ø© Ù„Ø¯Ù‰ Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ. Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ù‚Ù… Ø¨Ù…Ø±Ø§Ø³Ù„ØªÙ†Ø§ Ø¹Ø¨Ø± Ø²Ø± Ø§Ù„Ù…Ø§Ø³Ù†Ø¬Ø± Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ø³ÙÙ„ ØµÙØ­Ø© Ø§Ù„Ù…ØªØ¬Ø± Ø§Ùˆ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ø·Ù„Ø¨ Ø§Ù„Ø§Ù† Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ØªØ­Øª ÙƒÙ„ Ù…Ù†ØªØ¬ Ù„ÙŠØªÙ… ØªØ²ÙˆÙŠØ¯Ùƒ Ø¨Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ. Ù…ØµÙ…Ù… ÙˆÙ…Ø¨Ø±Ù…Ø­ Ù…ØªØ­Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© "Ø§Ù„Ø³ÙŠØ¯ Ø·Ù„Ø§Ù„ Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ù…Ù‚Ø·Ø±ÙŠ". Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ù…ØµÙ…Ù… Ø·Ù„Ø§Ù„ Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ù…Ù‚Ø·Ø±ÙŠ "774662666". Ø£Ø¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ ÙˆØ¯ÙˆØ¯ ÙˆÙ…Ø®ØªØµØ±: ${message}` }]
                        }]
                    })
                });
                const data = await response.json();
                const botResponse = data.candidates[0].content.parts[0].text;
                
                // Remove the "thinking" message and add the real one
                chatMessages.removeChild(chatMessages.lastChild); 
                addMessage(botResponse, 'bot');
                speak(botResponse);

            } catch (error) {
                console.error("Gemini API Error:", error);
                chatMessages.removeChild(chatMessages.lastChild); 
                addMessage('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø±Ø¯. Ù…Ø¤Ø¸Ù Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ØºÙŠØ± Ù…ØªÙˆØ§Ø¬Ø¯ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰..', 'bot');
            }
        }
        
        // Speech Recognition
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (SpeechRecognition) {
            const recognition = new SpeechRecognition();
            recognition.lang = 'ar-SA';
            recognition.continuous = false;
            
            micBtn.onclick = () => {
                recognition.start();
                micBtn.style.color = '#ff6b6b';
            };
            
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                chatInput.value = transcript;
                handleUserInput();
            };

            recognition.onend = () => {
                micBtn.style.color = 'var(--gold)';
            };
        } else {
            micBtn.style.display = 'none';
        }

    });

const sliderImgs = ["moan1.jpg","moan2.jpg","moan3.jpg","moan4.jpg","moan5.jpg"];
  const highImgs = ["moan1.png","moan2.png","moan3.png","moan4.png","moan5.png"];
  let mainImg = document.getElementById('mainImg');
  let thumbs = document.querySelectorAll('.thumb');
  let sliderIndex = 0;
  let sliderActive = true;
  let sliderInterval = setInterval(()=>{
    if (sliderActive) {
      sliderIndex = (sliderIndex+1)%sliderImgs.length;
      mainImg.src = sliderImgs[sliderIndex];
    }
  }, 1800);

  thumbs.forEach((thumb,idx)=>{
    thumb.onclick = ()=>{
      sliderActive = false;
      clearInterval(sliderInterval);
      mainImg.src = highImgs[idx];
      // Ø¸Ù„ Ù„Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
      thumbs.forEach(t=>t.style.boxShadow="none");
      thumb.style.boxShadow="0 0 12px var(--gold)";
    };
  });
  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„Ù…Ø§ÙˆØ³ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„ÙƒØ¨ÙŠØ±
  mainImg.onmouseleave = ()=>{
    if(!sliderActive){
      sliderActive = true;
      sliderInterval = setInterval(()=>{
        sliderIndex = (sliderIndex+1)%sliderImgs.length;
        mainImg.src = sliderImgs[sliderIndex];
        thumbs.forEach(t=>t.style.boxShadow="none");
      }, 1800);
    }
  };
  
  $('.rateYo').each(function(){
    $(this).rateYo({
      rtl:true,
      rating: $(this).data('rate'),
      starWidth: "18px",
      ratedFill: "#D4AF37",
      normalFill: "#fff2b2",
      readOnly: true,
      spacing:"3px"
    });
  });
    </script>

</body>
</html>